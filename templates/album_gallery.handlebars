<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{albumName}} - Album Gallery</title>
    <link rel="stylesheet" href="/styles/gallery.css">
</head>
<body>

<h1>{{albumName}}</h1>

<div class="gallery-grid">
    {{#if photos.length}}
        {{#each photos}}
            <div class="photo-card">
                <a href="/photo/{{this.id}}">
                    <img src="/photos/{{this.filePath}}" alt="{{this.title}}" />
                </a>
                <p>{{this.title}}</p>
            </div>
        {{/each}}
    {{else}}
        <p class="no-photos">No photos in this album yet.</p>
    {{/if}}
</div>

{{#if user}}
<form action="/album/{{albumId}}/upload" method="POST" enctype="multipart/form-data">
    <label>Photo:</label>
    <input type="file" name="photo" required>

    <label>Title:</label>
    <input type="text" name="title" required>

    <label>Description (optional):</label>
    <input type="text" name="description">

    <label>Visibility:</label>
    <select name="visibility">
        <option value="public">Public</option>
        <option value="private">Private</option>
    </select>

    <button type="submit">Upload Photo</button>
</form>
{{/if}}

<a class="back-link" href="/">Back to Albums</a>